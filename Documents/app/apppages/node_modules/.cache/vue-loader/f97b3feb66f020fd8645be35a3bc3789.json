{"remainingRequest":"/Users/huangshuai/Documents/apppages/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangshuai/Documents/apppages/src/views/EvaluatingList.vue?vue&type=style&index=0&id=7326d00b&lang=scss&scoped=true&","dependencies":[{"path":"/Users/huangshuai/Documents/apppages/src/views/EvaluatingList.vue","mtime":1545790931052},{"path":"/Users/huangshuai/Documents/apppages/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/huangshuai/Documents/apppages/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/huangshuai/Documents/apppages/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangshuai/Documents/apppages/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/huangshuai/Documents/apppages/node_modules/cache-loader/dist/cjs.js","mtime":1542800631269},{"path":"/Users/huangshuai/Documents/apppages/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n@import '../assets/scss/common.scss'; \r\n#EvaluatingList{\r\n\tul{\r\n\t\tli{\r\n\t\t\tbackground: url(../assets/images/icon_arrowsR2.png) right .32rem center /.16rem no-repeat #fff;\r\n\t\t\theight: 1.56rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items:center;\r\n\t\t\tpadding: 0 0.32rem;\r\n\t\t\tmargin-top: .2rem;\r\n\t\t\tb{\r\n\t\t\t\twidth: .96rem;\r\n\t\t\t\theight: .92rem;\r\n\t\t\t}\r\n\t\t\tdiv{\r\n\t\t\t\tflex:1;\r\n\t\t\t\tpadding-left: .32rem;\r\n\t\t\t\tp{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tfont-size: .32rem;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tmargin-bottom: .1rem;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\theight: .4rem;\r\n\t\t\t\t\ttext-overflow:ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\twidth: 5rem;\r\n\t\t\t\t}\r\n\t\t\t\ttime{\r\n\t\t\t\t\tfont-size: .24rem;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n  }\r\n\r\n\r\n",{"version":3,"sources":["EvaluatingList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EvaluatingList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div id=\"EvaluatingList\">\r\n\t\t<ul>\r\n\t\t\t<li v-for=\"(item, index) in evaluatingList\" @click=\"theJumpPage(index)\">\r\n\t\t\t\t<b><img :src=\"item.iconurl\" alt=\"\"></b>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>{{item.title}}</p>\r\n\t\t\t\t\t<time>时间段：{{item.sdate}}-{{item.edate}}</time>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<div class=\"loding\" v-if=\"loading\">\r\n\t    \t<div class=\"lodingText\" v-if=\"loading2\">\r\n\t    \t\t<i class=\"el-icon-loading activeT\"></i>\r\n\t    \t\t<span>拼命加载中...</span>\r\n\t    \t</div>\r\n\t    \t<div class=\"lodingEnd\" v-else>\r\n\t    \t\t<span>数据加载完毕</span>\r\n\t    \t</div>\r\n\t    </div>\r\n\t    <div class=\"withoutData\" v-if=\"withoutData\">\r\n\t    \t<div>\r\n\t    \t\t<span><img src=\"../assets/images/withoutData.png\" alt=\"\"></span>\r\n\t    \t\t<p>还没有收到消息哦~</p>\r\n\t    \t</div>\r\n\t    </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n//import xxx from 'xxx.vue'  //引入组建\r\n//import 'xxxx'  //引入JS\r\n\r\nexport default {\r\n\t\r\n    name: 'EvaluatingList',\r\n    data(){\r\n        return {\r\n\t\t\tevaluatingUrl:this.$store.state.evaluating,\r\n\t\t\tevaluatingList:[],\r\n            evaluatingListTotal: 0,\r\n\t\t\tpageNum: 1,\r\n\t\t\tpageSize:8,\r\n\t\t\tloading: false,\r\n            loading2: false,\r\n            withoutData: false,\t\r\n        }\r\n    },\r\n    components:{\r\n        // 组件实例化\r\n    },\r\n   \r\n    mounted(){\r\n\t\tthis.appEvaluationInfoList()\r\n    },\r\n    created(){\r\n\t\tdocument.title=\"通用测评\";\r\n    \tdocument.body.style.background = \"#f8f8f8\";\r\n\t\tvar qs=require('qs');\r\n\t\tconst that = this; \r\n\r\n\t\tsessionStorage.setItem(\"uid\", this.$route.query.uid);\r\n\t\tsessionStorage.setItem(\"schoolId\", this.$route.query.schoolId);\r\n\t\twindow.onscroll = function() {\r\n        //变量scrollTop是滚动条滚动时，距离顶部的距离\r\n            var scrollTop =\r\n                document.documentElement.scrollTop || document.body.scrollTop; //变量windowHeight是可视区的高度\r\n            var windowHeight =\r\n                document.documentElement.clientHeight || document.body.clientHeight; //变量scrollHeight是滚动条的总高度\r\n            var scrollHeight =\r\n                document.documentElement.scrollHeight || document.body.scrollHeight; //滚动条到底部的条件\r\n\r\n            if (scrollTop + windowHeight == scrollHeight) {\r\n\r\n                if (that.evaluatingList.length < that.evaluatingListTotal) {\r\n\t\t\t\t\tthat.pageNum++;\r\n                    that.appEvaluationInfoListFn();\r\n                } else if (that.evaluatingList.length == that.evaluatingListTotal) {\r\n                    that.loading2 = false;\r\n                }\r\n            }\r\n\t\t};\r\n\t\tthat.common.setingTtitle('通用测评2222')\r\n\r\n    },\r\n    methods: {\r\n\t\ttheJumpPage(index){\r\n\t\t\tconst that = this;\r\n\t\t\tsessionStorage.setItem(\"id\", that.evaluatingList[index].id);\r\n\t\t\tsessionStorage.setItem(\"qid\", that.evaluatingList[index].qid);\r\n\t\t\tthat.loading = true;\r\n            that.loading2 = true;\r\n\t\t\tthat.withoutData = false;\r\n\t\t\tif(that.evaluatingList[index].isEvaluation)\r\n\t\t\t{\r\n\t\t\t\tthat.$router.push({\r\n\t\t\t\t\tname: \"InquireQuestionBank\",\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthat.$router.push({\r\n\t\t\t\t\tname: \"AddQuestionBank\",\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tappEvaluationInfoList(){\r\n\t\t\tconst qs=require('qs');\r\n\t\t\tconst that = this;\r\n            that.informationList = [];\r\n            that.pageNum = 1;\r\n            that.loading = true;\r\n            that.loading2 = true;\r\n\t\t\tthat.withoutData = false;\r\n\t\t\tconst formData = {\r\n\t\t\t\tuid:sessionStorage.uid,\r\n\t\t\t\tpageIndex:that.pageNum,\r\n\t\t\t\tpageSize:that.pageSize,\r\n\t\t\t\tschoolId:sessionStorage.schoolId\r\n\t\t\t};\r\n\t\t\tthat.$http.post(that.evaluatingUrl+'api/Questionbank/AppEvaluationInfoList',qs.stringify(formData))\r\n\t\t\t\t.then(response=>{\r\n\t\t\t\t\tif(response.data.datacount > 0)\r\n                    {\r\n                        that.evaluatingListTotal = response.data.datacount;\r\n                        that.evaluatingList = response.data.data;\r\n                        if (that.evaluatingList.length < that.evaluatingListTotal) {\r\n\r\n                            that.loading = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else if (that.evaluatingList.length == that.evaluatingListTotal) {\r\n\r\n                            if (that.evaluatingList.length < 8) {\r\n                                that.loading = false;\r\n                            }\r\n\t\t\t\t\t\t\tthat.loading2 = false;\r\n\t\t\t\t\t\t\t\r\n                        }\r\n\r\n                    }\r\n                    else\r\n                    {\r\n                        that.evaluatingListTotal = response.data.datacount;\r\n                        that.evaluatingList = response.data.data;\r\n                        that.loading = false;\r\n                        that.withoutData = true;\r\n                    }\r\n\t\t\t\t})  \r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tappEvaluationInfoListFn(){\r\n\t\t\tconst that = this;\r\n\t\t\tthat.loading = true;\r\n            that.loading2 = true;\r\n\t\t\tthat.withoutData = false;\r\n\t\t\tconst qs=require('qs');\r\n\t\t\tconst formData = {\r\n\t\t\t\tuid:sessionStorage.uid,\r\n\t\t\t\tpageIndex:that.pageNum,\r\n\t\t\t\tpageSize:that.pageSize,\r\n\t\t\t\tschoolId:sessionStorage.schoolId\r\n\t\t\t};\r\n\t\t\tthat.$http.post(that.evaluatingUrl+'api/Questionbank/AppEvaluationInfoList',qs.stringify(formData))\r\n\t\t\t\t.then(response=>{\r\n\t\t\t\t\tif (that.evaluatingList.length <= that.evaluatingListTotal) {\r\n\t\t\t\t\t\tthat.evaluatingList = that.evaluatingList.concat(\r\n\t\t\t\t\t\t\tresponse.data.data\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})  \r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped=\"\">\r\n@import '../assets/scss/common.scss'; \r\n#EvaluatingList{\r\n\tul{\r\n\t\tli{\r\n\t\t\tbackground: url(../assets/images/icon_arrowsR2.png) right .32rem center /.16rem no-repeat #fff;\r\n\t\t\theight: 1.56rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items:center;\r\n\t\t\tpadding: 0 0.32rem;\r\n\t\t\tmargin-top: .2rem;\r\n\t\t\tb{\r\n\t\t\t\twidth: .96rem;\r\n\t\t\t\theight: .92rem;\r\n\t\t\t}\r\n\t\t\tdiv{\r\n\t\t\t\tflex:1;\r\n\t\t\t\tpadding-left: .32rem;\r\n\t\t\t\tp{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tfont-size: .32rem;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tmargin-bottom: .1rem;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\theight: .4rem;\r\n\t\t\t\t\ttext-overflow:ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\twidth: 5rem;\r\n\t\t\t\t}\r\n\t\t\t\ttime{\r\n\t\t\t\t\tfont-size: .24rem;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n  }\r\n\r\n\r\n</style>   "]}]}