{"remainingRequest":"/Users/huangshuai/Documents/apppages/node_modules/babel-loader/lib/index.js!/Users/huangshuai/Documents/apppages/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huangshuai/Documents/apppages/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangshuai/Documents/apppages/src/views/EvaluatingList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangshuai/Documents/apppages/src/views/EvaluatingList.vue","mtime":1551173072071},{"path":"/Users/huangshuai/Documents/apppages/node_modules/cache-loader/dist/cjs.js","mtime":1542800631269},{"path":"/Users/huangshuai/Documents/apppages/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangshuai/Documents/apppages/node_modules/cache-loader/dist/cjs.js","mtime":1542800631269},{"path":"/Users/huangshuai/Documents/apppages/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//import xxx from 'xxx.vue'  //引入组建\n//import 'xxxx'  //引入JS\nexport default {\n  name: 'EvaluatingList',\n  data: function data() {\n    return {\n      evaluatingUrl: this.$store.state.evaluating,\n      evaluatingList: [],\n      evaluatingListTotal: 0,\n      pageNum: 1,\n      pageSize: 8,\n      loading: false,\n      loading2: false,\n      withoutData: false\n    };\n  },\n  components: {// 组件实例化\n  },\n  mounted: function mounted() {\n    this.appEvaluationInfoList();\n  },\n  created: function created() {\n    document.title = \"通用测评\";\n    document.body.style.background = \"#f8f8f8\";\n\n    var qs = require('qs');\n\n    var that = this;\n    sessionStorage.setItem(\"uid\", this.$route.query.uid);\n    sessionStorage.setItem(\"schoolId\", this.$route.query.schoolId);\n\n    window.onscroll = function () {\n      //变量scrollTop是滚动条滚动时，距离顶部的距离\n      var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //变量windowHeight是可视区的高度\n\n      var windowHeight = document.documentElement.clientHeight || document.body.clientHeight; //变量scrollHeight是滚动条的总高度\n\n      var scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight; //滚动条到底部的条件\n\n      if (scrollTop + windowHeight == scrollHeight) {\n        if (that.evaluatingList.length < that.evaluatingListTotal) {\n          that.pageNum++;\n          that.appEvaluationInfoListFn();\n        } else if (that.evaluatingList.length == that.evaluatingListTotal) {\n          that.loading2 = false;\n        }\n      }\n    };\n\n    that.common.setingTtitle('通用测评2222');\n  },\n  methods: {\n    theJumpPage: function theJumpPage(index) {\n      var that = this;\n      sessionStorage.setItem(\"id\", that.evaluatingList[index].id);\n      sessionStorage.setItem(\"qid\", that.evaluatingList[index].qid);\n      that.loading = true;\n      that.loading2 = true;\n      that.withoutData = false;\n\n      if (that.evaluatingList[index].isEvaluation) {\n        that.$router.push({\n          name: \"InquireQuestionBank\"\n        });\n      } else {\n        that.$router.push({\n          name: \"AddQuestionBank\"\n        });\n      }\n    },\n    appEvaluationInfoList: function appEvaluationInfoList() {\n      var qs = require('qs');\n\n      var that = this;\n      that.informationList = [];\n      that.pageNum = 1;\n      that.loading = true;\n      that.loading2 = true;\n      that.withoutData = false;\n      var formData = {\n        uid: sessionStorage.uid,\n        pageNum: that.pageNum,\n        pageSize: that.pageSize,\n        schoolId: sessionStorage.schoolId\n      };\n      that.$http.post(that.evaluatingUrl + 'api/Questionbank/AppEvaluationInfoList', qs.stringify(formData)).then(function (response) {\n        if (response.data.datacount > 0) {\n          that.evaluatingListTotal = response.data.datacount;\n          that.evaluatingList = response.data.data;\n\n          if (that.evaluatingList.length < that.evaluatingListTotal) {\n            that.loading = false;\n          } else if (that.evaluatingList.length == that.evaluatingListTotal) {\n            if (that.evaluatingList.length < 8) {\n              that.loading = false;\n            }\n\n            that.loading2 = false;\n          }\n        } else {\n          that.evaluatingListTotal = response.data.datacount;\n          that.evaluatingList = response.data.data;\n          that.loading = false;\n          that.withoutData = true;\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    appEvaluationInfoListFn: function appEvaluationInfoListFn() {\n      var that = this;\n      that.loading = true;\n      that.loading2 = true;\n      that.withoutData = false;\n\n      var qs = require('qs');\n\n      var formData = {\n        uid: sessionStorage.uid,\n        pageNum: that.pageNum,\n        pageSize: that.pageSize,\n        schoolId: sessionStorage.schoolId\n      };\n      that.$http.post(that.evaluatingUrl + 'api/Questionbank/AppEvaluationInfoList', qs.stringify(formData)).then(function (response) {\n        if (that.evaluatingList.length <= that.evaluatingListTotal) {\n          that.evaluatingList = that.evaluatingList.concat(response.data.data);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n};",{"version":3,"sources":["EvaluatingList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div id=\"EvaluatingList\">\r\n\t\t<ul>\r\n\t\t\t<li v-for=\"(item, index) in evaluatingList\" @click=\"theJumpPage(index)\">\r\n\t\t\t\t<b><img :src=\"item.iconurl\" alt=\"\"></b>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>{{item.title}}</p>\r\n\t\t\t\t\t<time>时间段：{{item.sdate}}-{{item.edate}}</time>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<div class=\"loding\" v-if=\"loading\">\r\n\t    \t<div class=\"lodingText\" v-if=\"loading2\">\r\n\t    \t\t<i class=\"el-icon-loading activeT\"></i>\r\n\t    \t\t<span>拼命加载中...</span>\r\n\t    \t</div>\r\n\t    \t<div class=\"lodingEnd\" v-else>\r\n\t    \t\t<span>数据加载完毕</span>\r\n\t    \t</div>\r\n\t    </div>\r\n\t    <div class=\"withoutData\" v-if=\"withoutData\">\r\n\t    \t<div>\r\n\t    \t\t<span><img src=\"../assets/images/withoutData.png\" alt=\"\"></span>\r\n\t    \t\t<p>还没有收到消息哦~</p>\r\n\t    \t</div>\r\n\t    </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n//import xxx from 'xxx.vue'  //引入组建\r\n//import 'xxxx'  //引入JS\r\n\r\nexport default {\r\n\t\r\n    name: 'EvaluatingList',\r\n    data(){\r\n        return {\r\n\t\t\tevaluatingUrl:this.$store.state.evaluating,\r\n\t\t\tevaluatingList:[],\r\n            evaluatingListTotal: 0,\r\n\t\t\tpageNum: 1,\r\n\t\t\tpageSize:8,\r\n\t\t\tloading: false,\r\n            loading2: false,\r\n            withoutData: false,\t\r\n        }\r\n    },\r\n    components:{\r\n        // 组件实例化\r\n    },\r\n   \r\n    mounted(){\r\n\t\tthis.appEvaluationInfoList()\r\n    },\r\n    created(){\r\n\t\tdocument.title=\"通用测评\";\r\n    \tdocument.body.style.background = \"#f8f8f8\";\r\n\t\tvar qs=require('qs');\r\n\t\tconst that = this; \r\n\r\n\t\tsessionStorage.setItem(\"uid\", this.$route.query.uid);\r\n\t\tsessionStorage.setItem(\"schoolId\", this.$route.query.schoolId);\r\n\t\twindow.onscroll = function() {\r\n        //变量scrollTop是滚动条滚动时，距离顶部的距离\r\n            var scrollTop =\r\n                document.documentElement.scrollTop || document.body.scrollTop; //变量windowHeight是可视区的高度\r\n            var windowHeight =\r\n                document.documentElement.clientHeight || document.body.clientHeight; //变量scrollHeight是滚动条的总高度\r\n            var scrollHeight =\r\n                document.documentElement.scrollHeight || document.body.scrollHeight; //滚动条到底部的条件\r\n\r\n            if (scrollTop + windowHeight == scrollHeight) {\r\n\r\n                if (that.evaluatingList.length < that.evaluatingListTotal) {\r\n\t\t\t\t\tthat.pageNum++;\r\n                    that.appEvaluationInfoListFn();\r\n                } else if (that.evaluatingList.length == that.evaluatingListTotal) {\r\n                    that.loading2 = false;\r\n                }\r\n            }\r\n\t\t};\r\n\t\tthat.common.setingTtitle('通用测评2222')\r\n\r\n    },\r\n    methods: {\r\n\t\ttheJumpPage(index){\r\n\t\t\tconst that = this;\r\n\t\t\tsessionStorage.setItem(\"id\", that.evaluatingList[index].id);\r\n\t\t\tsessionStorage.setItem(\"qid\", that.evaluatingList[index].qid);\r\n\t\t\tthat.loading = true;\r\n            that.loading2 = true;\r\n\t\t\tthat.withoutData = false;\r\n\t\t\tif(that.evaluatingList[index].isEvaluation)\r\n\t\t\t{\r\n\t\t\t\tthat.$router.push({\r\n\t\t\t\t\tname: \"InquireQuestionBank\",\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthat.$router.push({\r\n\t\t\t\t\tname: \"AddQuestionBank\",\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tappEvaluationInfoList(){\r\n\t\t\tconst qs=require('qs');\r\n\t\t\tconst that = this;\r\n            that.informationList = [];\r\n            that.pageNum = 1;\r\n            that.loading = true;\r\n            that.loading2 = true;\r\n\t\t\tthat.withoutData = false;\r\n\t\t\tconst formData = {\r\n\t\t\t\tuid:sessionStorage.uid,\r\n\t\t\t\tpageNum:that.pageNum,\r\n\t\t\t\tpageSize:that.pageSize,\r\n\t\t\t\tschoolId:sessionStorage.schoolId\r\n\t\t\t};\r\n\t\t\tthat.$http.post(that.evaluatingUrl+'api/Questionbank/AppEvaluationInfoList',qs.stringify(formData))\r\n\t\t\t\t.then(response=>{\r\n\t\t\t\t\tif(response.data.datacount > 0)\r\n                    {\r\n                        that.evaluatingListTotal = response.data.datacount;\r\n                        that.evaluatingList = response.data.data;\r\n                        if (that.evaluatingList.length < that.evaluatingListTotal) {\r\n\r\n                            that.loading = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else if (that.evaluatingList.length == that.evaluatingListTotal) {\r\n\r\n                            if (that.evaluatingList.length < 8) {\r\n                                that.loading = false;\r\n                            }\r\n\t\t\t\t\t\t\tthat.loading2 = false;\r\n\t\t\t\t\t\t\t\r\n                        }\r\n\r\n                    }\r\n                    else\r\n                    {\r\n                        that.evaluatingListTotal = response.data.datacount;\r\n                        that.evaluatingList = response.data.data;\r\n                        that.loading = false;\r\n                        that.withoutData = true;\r\n                    }\r\n\t\t\t\t})  \r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tappEvaluationInfoListFn(){\r\n\t\t\tconst that = this;\r\n\t\t\tthat.loading = true;\r\n            that.loading2 = true;\r\n\t\t\tthat.withoutData = false;\r\n\t\t\tconst qs=require('qs');\r\n\t\t\tconst formData = {\r\n\t\t\t\tuid:sessionStorage.uid,\r\n\t\t\t\tpageNum:that.pageNum,\r\n\t\t\t\tpageSize:that.pageSize,\r\n\t\t\t\tschoolId:sessionStorage.schoolId\r\n\t\t\t};\r\n\t\t\tthat.$http.post(that.evaluatingUrl+'api/Questionbank/AppEvaluationInfoList',qs.stringify(formData))\r\n\t\t\t\t.then(response=>{\r\n\t\t\t\t\tif (that.evaluatingList.length <= that.evaluatingListTotal) {\r\n\t\t\t\t\t\tthat.evaluatingList = that.evaluatingList.concat(\r\n\t\t\t\t\t\t\tresponse.data.data\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})  \r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped=\"\">\r\n@import '../assets/scss/common.scss'; \r\n#EvaluatingList{\r\n\tul{\r\n\t\tli{\r\n\t\t\tbackground: url(../assets/images/icon_arrowsR2.png) right .32rem center /.16rem no-repeat #fff;\r\n\t\t\theight: 1.56rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items:center;\r\n\t\t\tpadding: 0 0.32rem;\r\n\t\t\tmargin-top: .2rem;\r\n\t\t\tb{\r\n\t\t\t\twidth: .96rem;\r\n\t\t\t\theight: .92rem;\r\n\t\t\t}\r\n\t\t\tdiv{\r\n\t\t\t\tflex:1;\r\n\t\t\t\tpadding-left: .32rem;\r\n\t\t\t\tp{\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tfont-size: .32rem;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tmargin-bottom: .1rem;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\theight: .4rem;\r\n\t\t\t\t\ttext-overflow:ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\twidth: 5rem;\r\n\t\t\t\t}\r\n\t\t\t\ttime{\r\n\t\t\t\t\tfont-size: .24rem;\r\n\t\t\t\t\tcolor: #999999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n  }\r\n\r\n\r\n</style>   "],"sourceRoot":"src/views"}]}