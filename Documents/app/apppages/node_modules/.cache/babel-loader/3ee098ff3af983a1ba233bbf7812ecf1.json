{"remainingRequest":"/Users/huangshuai/Documents/apppages/node_modules/thread-loader/dist/cjs.js!/Users/huangshuai/Documents/apppages/node_modules/babel-loader/lib/index.js!/Users/huangshuai/Documents/apppages/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/huangshuai/Documents/apppages/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangshuai/Documents/apppages/src/views/PublishOrganization.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangshuai/Documents/apppages/src/views/PublishOrganization.vue","mtime":1544781865181},{"path":"/Users/huangshuai/Documents/apppages/node_modules/cache-loader/dist/cjs.js","mtime":1542800631269},{"path":"/Users/huangshuai/Documents/apppages/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangshuai/Documents/apppages/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangshuai/Documents/apppages/node_modules/cache-loader/dist/cjs.js","mtime":1542800631269},{"path":"/Users/huangshuai/Documents/apppages/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//import xxx from 'xxx.vue'  //引入组建\n//import 'xxxx'  //引入JS\nexport default {\n  name: 'PublishOrganization',\n  data: function data() {\n    return {\n      getnVeducloudUrl: this.$store.state.veducloud,\n      getnEschoolUrl: this.$store.state.eschool,\n      pageNum: 1,\n      publishOrganizationList: [],\n      publishOrganizationListTotal: 0,\n      loading: false,\n      loading2: false,\n      withoutData: false,\n      searchText: ''\n    };\n  },\n  components: {// 组件实例化\n  },\n  watch: {\n    searchText: function searchText(val, oldVal) {\n      //普通的watch监听\n      if (val == \"\") {\n        this.publishOrganizationListFn();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var that = this;\n    that.publishOrganizationListFn();\n  },\n  created: function created() {\n    document.title = \"选择发布组织\";\n    document.body.style.background = \"#F8F8F8\";\n    /*var qs=require('qs'); */\n\n    var that = this;\n\n    window.onscroll = function () {\n      //变量scrollTop是滚动条滚动时，距离顶部的距离\n      var scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //变量windowHeight是可视区的高度\n\n      var windowHeight = document.documentElement.clientHeight || document.body.clientHeight; //变量scrollHeight是滚动条的总高度\n\n      var scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight; //滚动条到底部的条件\n\n      if (scrollTop + windowHeight == scrollHeight) {\n        if (that.publishOrganizationList.length < that.publishOrganizationListTotal) {\n          that.pageNum++;\n          that.publishOrganizationListPushFn();\n        } else if (that.publishOrganizationList.length == that.publishOrganizationListTotal) {\n          that.loading2 = false;\n        }\n      }\n    };\n\n    that.common.setingTtitle(\"选择发布组织\");\n  },\n  methods: {\n    selectedElementsFn: function selectedElementsFn(index) {\n      var that = this;\n      var arr = [that.publishOrganizationList[index].name, that.publishOrganizationList[index].groupId];\n\n      if (that.$route.params.pagesUrl == \"CompileInform\") {\n        sessionStorage.setItem(\"sPublishText\", arr[0]);\n        sessionStorage.setItem(\"sPublishId\", arr[1]);\n      } else if (that.$route.params.pagesUrl == \"AndroidCompileInform\") {\n        sessionStorage.setItem(\"sPublishText\", arr[0]);\n        sessionStorage.setItem(\"sPublishId\", arr[1]);\n      } else if (that.$route.params.pagesUrl == \"AddInform\") {\n        sessionStorage.setItem(\"addPublishText\", arr[0]);\n        sessionStorage.setItem(\"addPublishId\", arr[1]);\n      } else if (that.$route.params.pagesUrl == \"AndroidAddInform\") {\n        sessionStorage.setItem(\"addPublishText\", arr[0]);\n        sessionStorage.setItem(\"addPublishId\", arr[1]);\n      }\n\n      that.$router.push({\n        name: that.$route.params.pagesUrl\n      });\n    },\n    publishOrganizationListFn: function publishOrganizationListFn() {\n      var that = this;\n      that.publishOrganizationList = [];\n      that.pageNum = 1;\n      that.loading = true;\n      that.loading2 = true;\n      that.withoutData = false;\n      that.$http({\n        method: \"GET\",\n        url: that.getnVeducloudUrl + \"api/uc/v0.1/groups/org\",\n        headers: {\n          accessToken: sessionStorage.accessToken,\n          schoolId: sessionStorage.schoolId\n        },\n        params: {\n          pageNum: that.pageNum\n        }\n      }).then(function (response) {\n        if (response.data.total > 0) {\n          that.publishOrganizationListTotal = response.data.total;\n          response.data.rows.map(function (item, index) {\n            item.oneText = item.name.substring(0, 1);\n          });\n          that.publishOrganizationList = response.data.rows; // console.log(that.publishOrganizationList)\n\n          if (that.publishOrganizationList.length < that.publishOrganizationListTotal) {\n            that.loading = false;\n          } else if (that.publishOrganizationList.length == that.publishOrganizationListTotal) {\n            if (that.publishOrganizationList.length < 5) {\n              that.loading = false;\n            }\n\n            that.loading2 = false;\n          }\n        } else {\n          that.loading = false;\n          that.withoutData = true;\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    publishOrganizationListPushFn: function publishOrganizationListPushFn(id) {\n      var that = this;\n      that.loading = true;\n      that.$http({\n        method: \"GET\",\n        url: that.getnVeducloudUrl + \"api/uc/v0.1/groups/org\",\n        headers: {\n          accessToken: sessionStorage.accessToken,\n          schoolId: sessionStorage.schoolId\n        },\n        params: {\n          pageNum: that.pageNum\n        }\n      }).then(function (response) {\n        if (that.publishOrganizationList.length <= that.publishOrganizationListTotal) {\n          response.data.rows.map(function (item, index) {\n            item.oneText = item.name.substring(0, 1);\n          });\n          that.publishOrganizationList = that.publishOrganizationList.concat(response.data.rows);\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    searchFun: function searchFun(ev) {\n      var that = this;\n\n      if (ev.keyCode == 13) {\n        that.$http({\n          method: \"GET\",\n          url: that.getnVeducloudUrl + \"api/uc/v0.1/groups/org\",\n          headers: {\n            accessToken: sessionStorage.accessToken,\n            schoolId: sessionStorage.schoolId\n          },\n          params: {\n            keyword: that.searchText\n          }\n        }).then(function (response) {\n          if (response.data.total > 0) {\n            that.publishOrganizationListTotal = response.data.total;\n            response.data.rows.map(function (item, index) {\n              item.oneText = item.name.substring(0, 1);\n            });\n            that.publishOrganizationList = response.data.rows; // console.log(that.publishOrganizationList)\n\n            if (that.publishOrganizationList.length < that.publishOrganizationListTotal) {\n              that.loading = false;\n            } else if (that.publishOrganizationList.length == that.publishOrganizationListTotal) {\n              if (that.publishOrganizationList.length < 5) {\n                that.loading = false;\n              }\n\n              that.loading2 = false;\n            }\n          } else {\n            that.publishOrganizationList = response.data.rows;\n            that.loading = false;\n            that.withoutData = true;\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["PublishOrganization.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div id=\"PublishOrganization\">\r\n        <div class=\"search\">\r\n            <div>\r\n                <i><img src=\"../assets/images/icon_search.png\" alt=\"\"></i>\r\n                <input type=\"search\" placeholder=\"搜索\" v-model=\"searchText\" @keyup=\"searchFun\">\r\n            </div>\r\n        </div>\r\n        <ul>\r\n            <li v-for=\"(item, index) in publishOrganizationList\" @click=\"selectedElementsFn(index)\">\r\n                <div class=\"menuTle\">\r\n                    <span>{{item.oneText}}</span>\r\n                    <b>{{item.name}}</b>\r\n                    <i><img src=\"../assets/images/icon_arrowsR3.png\" alt=\"\"></i>\r\n                </div>\r\n                <!-- <div class=\"menuContent\">\r\n                    <p>\r\n                        <em>校</em>\r\n                        <strong>校园推广办</strong>\r\n                    </p>\r\n                    <p>\r\n                        <em>校</em>\r\n                        <strong>校园推广办</strong>\r\n                    </p>\r\n                    <p>\r\n                        <em>校</em>\r\n                        <strong>校园推广办</strong>\r\n                    </p>\r\n                    <p>\r\n                        <em>校</em>\r\n                        <strong>校园推广办</strong>\r\n                    </p>\r\n                </div> -->\r\n            </li>\r\n        </ul>\r\n        <div class=\"loding\" v-if=\"loading\">\r\n\t    \t<div class=\"lodingText\" v-if=\"loading2\">\r\n\t    \t\t<i class=\"el-icon-loading activeT\"></i>\r\n\t    \t\t<span>拼命加载中...</span>\r\n\t    \t</div>\r\n\t    \t<div class=\"lodingEnd\" v-else>\r\n\t    \t\t<span>数据加载完毕</span>\r\n\t    \t</div>\r\n\t    </div>\r\n        <div class=\"withoutData\" v-if=\"withoutData\">\r\n            <div>\r\n                <span><img src=\"../assets/images/withoutData.png\" alt=\"\"></span>\r\n                <p>未找到相关信息</p>\r\n            </div>\r\n        </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n//import xxx from 'xxx.vue'  //引入组建\r\n//import 'xxxx'  //引入JS\r\n\r\nexport default {\r\n\t\r\n    name: 'PublishOrganization',\r\n    data(){\r\n        return {\r\n            getnVeducloudUrl:this.$store.state.veducloud,\r\n            getnEschoolUrl:this.$store.state.eschool,\r\n            pageNum:1,\r\n            publishOrganizationList:[],\r\n            publishOrganizationListTotal:0,\r\n            loading:false,\r\n            loading2:false,\r\n            withoutData: false,\r\n            searchText:'',\r\n        }\r\n    },\r\n    components:{\r\n        // 组件实例化\r\n    },\r\n    watch:{\r\n        searchText(val, oldVal){//普通的watch监听\r\n            if(val == \"\")\r\n            {\r\n                this.publishOrganizationListFn()\r\n            }\r\n        },\r\n       \r\n    },\r\n    mounted(){\r\n        const that = this;\r\n        that.publishOrganizationListFn();\r\n    },\r\n    created(){\r\n        document.title=\"选择发布组织\";\r\n        document.body.style.background = \"#F8F8F8\";\r\n        /*var qs=require('qs'); */\r\n        const that = this;\r\n    \r\n        window.onscroll = function() {\r\n            //变量scrollTop是滚动条滚动时，距离顶部的距离\r\n            var scrollTop =\r\n                document.documentElement.scrollTop || document.body.scrollTop; //变量windowHeight是可视区的高度\r\n            var windowHeight =\r\n                document.documentElement.clientHeight || document.body.clientHeight; //变量scrollHeight是滚动条的总高度\r\n            var scrollHeight =\r\n                document.documentElement.scrollHeight || document.body.scrollHeight; //滚动条到底部的条件\r\n            if (scrollTop + windowHeight == scrollHeight) {\r\n                if (that.publishOrganizationList.length < that.publishOrganizationListTotal) {\r\n                    that.pageNum++;\r\n                    that.publishOrganizationListPushFn();\r\n                } else if (that.publishOrganizationList.length == that.publishOrganizationListTotal) {\r\n                    that.loading2 = false;\r\n                }\r\n            }\r\n        };\r\n        that.common.setingTtitle(\"选择发布组织\")\r\n\r\n        \r\n    },\r\n    methods: {\r\n\r\n        selectedElementsFn(index){\r\n            const that = this;\r\n            const arr = [that.publishOrganizationList[index].name,that.publishOrganizationList[index].groupId]\r\n            if(that.$route.params.pagesUrl == \"CompileInform\")\r\n            {\r\n                sessionStorage.setItem(\"sPublishText\", arr[0]);\r\n                sessionStorage.setItem(\"sPublishId\", arr[1]);\r\n            }\r\n            else if(that.$route.params.pagesUrl == \"AndroidCompileInform\")\r\n            {\r\n                sessionStorage.setItem(\"sPublishText\", arr[0]);\r\n                sessionStorage.setItem(\"sPublishId\", arr[1]);\r\n            }\r\n            else if(that.$route.params.pagesUrl == \"AddInform\")\r\n            {\r\n                sessionStorage.setItem(\"addPublishText\", arr[0]);\r\n                sessionStorage.setItem(\"addPublishId\", arr[1]);\r\n            }\r\n            else if(that.$route.params.pagesUrl == \"AndroidAddInform\")\r\n            {\r\n                sessionStorage.setItem(\"addPublishText\", arr[0]);\r\n                sessionStorage.setItem(\"addPublishId\", arr[1]);\r\n            }\r\n            \r\n            that.$router.push({\r\n                name: that.$route.params.pagesUrl,\r\n            });\r\n        },\r\n        publishOrganizationListFn: function() {\r\n            var that = this;\r\n            that.publishOrganizationList = [];\r\n            that.pageNum = 1;\r\n            that.loading = true;\r\n            that.loading2 = true;\r\n            that.withoutData = false;\r\n            that\r\n            .$http({\r\n                method: \"GET\",\r\n                url: that.getnVeducloudUrl + \"api/uc/v0.1/groups/org\",\r\n                headers: {\r\n                    accessToken:sessionStorage.accessToken,\r\n                    schoolId:sessionStorage.schoolId\r\n                },\r\n                params: {\r\n                    pageNum: that.pageNum,\r\n                }\r\n            })\r\n            .then(function(response) {\r\n                if(response.data.total > 0)\r\n                {\r\n                    that.publishOrganizationListTotal = response.data.total;\r\n                    response.data.rows.map((item , index) => {\r\n                        item.oneText = item.name.substring(0,1)\r\n                    })\r\n                    that.publishOrganizationList = response.data.rows;\r\n                        // console.log(that.publishOrganizationList)\r\n\r\n                    if (that.publishOrganizationList.length < that.publishOrganizationListTotal) {\r\n                        that.loading = false;\r\n                    } else if (that.publishOrganizationList.length == that.publishOrganizationListTotal) {\r\n                        if (that.publishOrganizationList.length < 5) {\r\n                            that.loading = false;\r\n                        }\r\n                        that.loading2 = false;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    that.loading = false;\r\n                    that.withoutData = true;\r\n                }\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            });\r\n        },\r\n\r\n        publishOrganizationListPushFn: function(id) {\r\n            var that = this;\r\n            that.loading = true;\r\n            that\r\n            .$http({\r\n                method: \"GET\",\r\n                url: that.getnVeducloudUrl + \"api/uc/v0.1/groups/org\",\r\n                headers: {\r\n                    accessToken:sessionStorage.accessToken,\r\n                    schoolId:sessionStorage.schoolId\r\n                },\r\n                params: {\r\n                    pageNum: that.pageNum,\r\n                }\r\n            })\r\n            .then(function(response) {\r\n                if (that.publishOrganizationList.length <= that.publishOrganizationListTotal) {\r\n                    response.data.rows.map((item , index) => {\r\n                        item.oneText = item.name.substring(0,1)\r\n                    })\r\n                    that.publishOrganizationList = that.publishOrganizationList.concat(\r\n                        response.data.rows\r\n                    );\r\n                }\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            });\r\n        },\r\n        searchFun(ev){\r\n            const that = this;\r\n            if(ev.keyCode == 13){\r\n                that\r\n                .$http({\r\n                    method: \"GET\",\r\n                    url: that.getnVeducloudUrl + \"api/uc/v0.1/groups/org\",\r\n                    headers: {\r\n                        accessToken:sessionStorage.accessToken,\r\n                        schoolId:sessionStorage.schoolId\r\n                    },\r\n                    params: {\r\n                        keyword:that.searchText,\r\n                    }\r\n                })\r\n                .then(function(response) {\r\n                    if(response.data.total > 0)\r\n                    {\r\n                        that.publishOrganizationListTotal = response.data.total;\r\n                        response.data.rows.map((item , index) => {\r\n                            item.oneText = item.name.substring(0,1)\r\n                        })\r\n                        that.publishOrganizationList = response.data.rows;\r\n                            // console.log(that.publishOrganizationList)\r\n\r\n                        if (that.publishOrganizationList.length < that.publishOrganizationListTotal) {\r\n                            that.loading = false;\r\n                        } else if (that.publishOrganizationList.length == that.publishOrganizationListTotal) {\r\n                            if (that.publishOrganizationList.length < 5) {\r\n                                that.loading = false;\r\n                            }\r\n                            that.loading2 = false;\r\n                        }\r\n                    }\r\n                    else\r\n                    {\r\n                        that.publishOrganizationList = response.data.rows;\r\n                        that.loading = false;\r\n                        that.withoutData = true;\r\n                    }\r\n                })\r\n                .catch(function(error) {\r\n                    console.log(error);\r\n                });\r\n            }\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped=\"\">\r\n@import '../assets/scss/common.scss'; \r\n#PublishOrganization{\r\n    .search{\r\n        background: #F8F8F8;\r\n        overflow: hidden;\r\n        height: .88rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        position: fixed;\r\n        top: 0;\r\n        width: 100%;\r\n        div{\r\n            background: #fff;\r\n            border-radius: 5px;\r\n            display: flex;\r\n            height: .6rem;\r\n            width: 7.18rem;\r\n            align-items: center;\r\n            i{\r\n                width: .32rem;\r\n                height: .32rem;\r\n                margin-right: .14rem;\r\n                margin-left: .34rem;\r\n            }\r\n            input{\r\n                height: .6rem;\r\n                flex: 1;\r\n                font-size: .28rem;\r\n            }\r\n        }\r\n    }\r\n    ul{\r\n        padding-top: .88rem;\r\n        li{\r\n            .menuTle{\r\n                height: 1.2rem;\r\n                background: #fff;\r\n                padding: 0 .32rem;\r\n                display: flex;\r\n                align-items: center;\r\n                border-bottom:1px solid #EEEEEE;\r\n                span{\r\n                    width: .74rem;\r\n                    height: .74rem;\r\n                    text-align: center;\r\n                    line-height: .74rem;\r\n                    font-size: .32rem;\r\n                    color: #FFFFFF;\r\n                    background: #03A9F4;\r\n                    border-radius: 50%;\r\n                    margin-right: .32rem;\r\n                }\r\n                b{\r\n                    font-weight: normal;\r\n                    font-size: .32rem;\r\n                    color: #333333;\r\n                    flex: 1;\r\n                }\r\n                i{\r\n                    width: .4rem;\r\n                }\r\n            }\r\n            .menuContent{\r\n                display: none;\r\n                p{\r\n                    padding-left: 1.38rem;\r\n                    padding-right: .32rem;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    border-bottom:1px solid #EEEEEE;\r\n                    height: 1.2rem;\r\n                    em{\r\n                        width: .74rem;\r\n                        height: .74rem;\r\n                        text-align: center;\r\n                        line-height: .74rem;\r\n                        font-size: .32rem;\r\n                        color: #FFFFFF;\r\n                        background: #99CAE0;\r\n                        border-radius: 50%;\r\n                        margin-right: .32rem;\r\n                        font-style: normal;\r\n                    }\r\n                    strong{\r\n                        font-weight: normal;\r\n                        font-size: .32rem;\r\n                        color: #333333;\r\n                        flex: 1;\r\n                    }\r\n                }\r\n            }\r\n            &.active{\r\n                .menuTle{\r\n                    i{\r\n                        transform: rotate(90deg);\r\n                    }\r\n                }\r\n                .menuContent{\r\n                    display: block;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n  \r\n  \r\n\r\n</style>   "],"sourceRoot":"src/views"}]}